/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.ES6Promise=t()})(this,function(){"use strict";function vt(n){var t=typeof n;return n!==null&&(t==="object"||t==="function")}function it(n){return typeof n=="function"}function yt(n){p=n}function pt(n){u=n}function kt(){return function(){return process.nextTick(o)}}function dt(){return typeof y!="undefined"?function(){y(o)}:w()}function gt(){var n=0,i=new ot(o),t=document.createTextNode("");return i.observe(t,{characterData:!0}),function(){t.data=n=++n%2}}function ni(){var n=new MessageChannel;return n.port1.onmessage=o,function(){return n.port2.postMessage(0)}}function w(){var n=setTimeout;return function(){return n(o,1)}}function o(){for(var t,i,n=0;n<e;n+=2)t=f[n],i=f[n+1],t(i),f[n]=undefined,f[n+1]=undefined;e=0}function ti(){try{var n=Function("return this")().require("vertx");return y=n.runOnLoop||n.runOnContext,dt()}catch(t){return w()}}function k(n,t){var f=this,i=new this.constructor(s),r,e;return i[l]===undefined&&lt(i),r=f._state,r?(e=arguments[r-1],u(function(){return ct(r,i,e,f._result)})):g(f,i,n,t),i}function d(n){var i=this,t;return n&&typeof n=="object"&&n.constructor===i?n:(t=new i(s),v(t,n),t)}function s(){}function ii(){return new TypeError("You cannot resolve a promise with itself")}function ri(){return new TypeError("A promises callback cannot return that same promise.")}function st(n){try{return n.then}catch(t){return r.error=t,r}}function ui(n,t,i,r){try{n.call(t,i,r)}catch(u){return u}}function fi(n,r,f){u(function(n){var u=!1,e=ui(f,r,function(t){u||(u=!0,r!==t?v(n,t):i(n,t))},function(i){u||(u=!0,t(n,i))},"Settle: "+(n._label||" unknown promise"));!u&&e&&(u=!0,t(n,e))},n)}function ei(n,r){r._state===a?i(n,r._result):r._state===c?t(n,r._result):g(r,undefined,function(t){return v(n,t)},function(i){return t(n,i)})}function ht(n,u,f){u.constructor===n.constructor&&f===k&&u.constructor.resolve===d?ei(n,u):f===r?(t(n,r.error),r.error=null):f===undefined?i(n,u):it(f)?fi(n,u,f):i(n,u)}function v(n,r){n===r?t(n,ii()):vt(r)?ht(n,r,st(r)):i(n,r)}function oi(n){n._onerror&&n._onerror(n._result);nt(n)}function i(n,t){n._state===h&&(n._result=t,n._state=a,n._subscribers.length!==0&&u(nt,n))}function t(n,t){n._state===h&&(n._state=c,n._result=t,u(oi,n))}function g(n,t,i,r){var f=n._subscribers,e=f.length;n._onerror=null;f[e]=t;f[e+a]=i;f[e+c]=r;e===0&&n._state&&u(nt,n)}function nt(n){var i=n._subscribers,f=n._state,t;if(i.length!==0){var r=void 0,u=void 0,e=n._result;for(t=0;t<i.length;t+=3)r=i[t],u=i[t+f],r?ct(f,r,u,e):u(e);n._subscribers.length=0}}function si(n,t){try{return n(t)}catch(i){return r.error=i,r}}function ct(n,u,f,e){var l=it(f),o=void 0,y=void 0,s=void 0,p=void 0;if(l){if(o=si(f,e),o===r?(p=!0,y=o.error,o.error=null):s=!0,u===o){t(u,ri());return}}else o=e,s=!0;u._state!==h||(l&&s?v(u,o):p?t(u,y):n===a?i(u,o):n===c&&t(u,o))}function hi(n,i){try{i(function(t){v(n,t)},function(i){t(n,i)})}catch(r){t(n,r)}}function ci(){return tt++}function lt(n){n[l]=tt++;n._state=undefined;n._result=undefined;n._subscribers=[]}function li(){return new Error("Array Methods must be provided an Array")}function ai(n){return new at(this,n).promise}function vi(n){var t=this;return ut(n)?new t(function(i,r){for(var f=n.length,u=0;u<f;u++)t.resolve(n[u]).then(i,r)}):new t(function(n,t){return t(new TypeError("You must pass an array to race."))})}function yi(n){var r=this,i=new r(s);return t(i,n),i}function pi(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");}function wi(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}function bi(){var t=void 0,i,r;if(typeof global!="undefined")t=global;else if(typeof self!="undefined")t=self;else try{t=Function("return this")()}catch(u){throw new Error("polyfill failed because global object is unavailable in this environment");}if(i=t.Promise,i){r=null;try{r=Object.prototype.toString.call(i.resolve())}catch(u){}if(r==="[object Promise]"&&!i.cast)return}t.Promise=n}var rt=void 0,f,b,l,tt,at,n;rt=Array.isArray?Array.isArray:function(n){return Object.prototype.toString.call(n)==="[object Array]"};var ut=rt,e=0,y=void 0,p=void 0,u=function(n,t){f[e]=n;f[e+1]=t;e+=2;e===2&&(p?p(o):b())};var ft=typeof window!="undefined"?window:undefined,et=ft||{},ot=et.MutationObserver||et.WebKitMutationObserver,wt=typeof self=="undefined"&&typeof process!="undefined"&&{}.toString.call(process)==="[object process]",bt=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined";f=new Array(1e3);b=void 0;b=wt?kt():ot?gt():bt?ni():ft===undefined&&typeof require=="function"?ti():w();l=Math.random().toString(36).substring(2);var h=void 0,a=1,c=2,r={error:null};return tt=0,at=function(){function r(n,r){this._instanceConstructor=n;this.promise=new n(s);this.promise[l]||lt(this.promise);ut(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),this.length===0?i(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),this._remaining===0&&i(this.promise,this._result))):t(this.promise,li())}return r.prototype._enumerate=function(n){for(var t=0;this._state===h&&t<n.length;t++)this._eachEntry(n[t],t)},r.prototype._eachEntry=function(t,i){var r=this._instanceConstructor,e=r.resolve,u,f;e===d?(u=st(t),u===k&&t._state!==h?this._settledAt(t._state,i,t._result):typeof u!="function"?(this._remaining--,this._result[i]=t):r===n?(f=new r(s),ht(f,t,u),this._willSettleAt(f,i)):this._willSettleAt(new r(function(n){return n(t)}),i)):this._willSettleAt(e(t),i)},r.prototype._settledAt=function(n,r,u){var f=this.promise;f._state===h&&(this._remaining--,n===c?t(f,u):this._result[r]=u);this._remaining===0&&i(f,this._result)},r.prototype._willSettleAt=function(n,t){var i=this;g(n,undefined,function(n){return i._settledAt(a,t,n)},function(n){return i._settledAt(c,t,n)})},r}(),n=function(){function n(t){this[l]=ci();this._result=this._state=undefined;this._subscribers=[];s!==t&&(typeof t!="function"&&pi(),this instanceof n?hi(this,t):wi())}return n.prototype.catch=function(n){return this.then(null,n)},n.prototype.finally=function(n){var t=this,i=t.constructor;return t.then(function(t){return i.resolve(n()).then(function(){return t})},function(t){return i.resolve(n()).then(function(){throw t;})})},n}(),n.prototype.then=k,n.all=ai,n.race=vi,n.resolve=d,n.reject=yi,n._setScheduler=yt,n._setAsap=pt,n._asap=u,n.polyfill=bi,n.Promise=n,n});